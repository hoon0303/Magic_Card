#include<stdio.h>
#include<math.h>
void print(int n, int i,int magic_card[],int cnt)
{
	if (i==(int)pow(2, n - 1))
		return 0;
	if (cnt == magic_card[0])
	{
		magic_card[i] = magic_card[i - 1] + cnt + 1;
		cnt = 0;
	}
	else
	magic_card[i] = magic_card[i - 1] + 1;
	printf("%d ", magic_card[i]);
	return print(n, i + 1, magic_card,cnt+1);
}
int main(void)
{
	int magic_card[239000] = { 0 };
	int i, j;
	int n,x=0;
	int cnt = 1,sum=0;
	printf("몇장의 카드를 사용하시겠습니까?\n");
	scanf("%d", &n);
	printf("0~%d카드중에 숫자를 하나 고르세요(고른 후 엔터를 누르세요)\n", (int)pow(2, n) - 1);
	for (i = 0; i < n; i++)
	{
		printf("%c카드 - 고른 숫자가 있으면 1 아니면 0을 입력하시오\n", 'A' + i);
		magic_card[0] = (int)pow(2, i);
		printf("%d ", magic_card[0]);
		print(n, 1, magic_card, 1);
		printf("\n");
		scanf("%d", &x);
		if (x == 1)
			sum = sum + (int)pow(2, i);
	}
	printf("당신이 고른 숫자는 : %d 입니다.", sum);
}